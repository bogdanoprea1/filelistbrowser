<Controls:MetroWindow x:Class="FilelistBrowser.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:Controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
        xmlns:local="clr-namespace:FilelistBrowser"                      
        Title="Filelist Browser" Background="black" Foreground="Black">
    <Grid>
        <Grid.Background>
            <ImageBrush ImageSource="Assets\movies.jpg" Opacity="0.1"></ImageBrush>
        </Grid.Background>
        <Grid x:Name="grdTop" Visibility="Visible">
            <Grid.RowDefinitions>
                <RowDefinition></RowDefinition>
            </Grid.RowDefinitions>

            <Grid Grid.Row="1" x:Name="grdMain">
                <Grid.RowDefinitions>
                    <RowDefinition Height="0"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="*"></RowDefinition>
                </Grid.RowDefinitions>
                <Grid Grid.Row="1" x:Name="gridLoggedIn" Visibility="Collapsed">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <TextBlock  Foreground="White"  Margin="20,0,0,0" Grid.Column="0" FontSize="40" x:Name="txtWhoIsLoggedIn">
                    </TextBlock>
                    <Image Source="Assets\logout.png" Width="65" MouseDown="btnLogOff_Click" HorizontalAlignment="Right" Margin="5" Grid.Column="1" ></Image>
                </Grid>
                <Grid Grid.Row="2" Margin="0,10,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                        <ColumnDefinition Width="130"></ColumnDefinition>
                        <ColumnDefinition Width="130"></ColumnDefinition>
                        <ColumnDefinition Width="120"></ColumnDefinition>
                        <ColumnDefinition Width="60"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Column="0" Grid.Row="0" Margin="5" FontSize="18" FontWeight="Bold" Foreground="White" Text="Cauta"></TextBlock>
                    <TextBox x:Name="txtCauta" Margin="10,0,0,0" Grid.Column="0" Grid.Row="1"></TextBox>

                    <TextBlock Foreground="White"  Grid.Column="1" Grid.Row="0" Margin="5" FontSize="18" FontWeight="Bold" Text="Categorie"></TextBlock>
                    <ComboBox x:Name="cmbCategory" Margin="10,0,0,0" Grid.Column="1" Grid.Row="1" ItemsSource="{Binding CategoryDictionar}" SelectedIndex="0"  DisplayMemberPath="Value" SelectedValuePath="Key"></ComboBox>

                    <TextBlock Foreground="White"  Grid.Column="2" Grid.Row="0" Margin="5" FontSize="18" FontWeight="Bold" Text="Unde"></TextBlock>
                    <ComboBox x:Name="cmbWhere" Margin="10,0,0,0" Grid.Column="2" Grid.Row="1" ItemsSource="{Binding SearchInDictionar}" SelectedIndex="0"  DisplayMemberPath="Value" SelectedValuePath="Key"></ComboBox>

                    <TextBlock Foreground="White"  Grid.Column="3" Grid.Row="0" Margin="5" FontSize="18" FontWeight="Bold" Text="Cate pagini"></TextBlock>
                    <ComboBox x:Name="cmbPages" ItemsSource="{Binding Pages}"  DisplayMemberPath="Value" SelectedValuePath="Key" SelectedIndex="0" Margin="10,0,0,0" Grid.Column="3" Grid.Row="1"></ComboBox>
                    <Image Source="Assets\search.png" Width="30"  Grid.Column="4" MouseDown="btnSearch_Click" HorizontalAlignment="Center" Grid.Row="1"></Image>

                </Grid>
                <StackPanel Grid.Row="3">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Button Content="Order by Downloads" x:Name="dwButton" Click="dwButton_Click"></Button>
                    </Grid>
                    
                </StackPanel>
                <ScrollViewer Grid.Row="4">
                    <ItemsControl ItemsSource="{Binding TorrentList}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Background="White">
                                    <Grid >
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"></RowDefinition>
                                            <RowDefinition></RowDefinition>
                                        </Grid.RowDefinitions>

                                        <Grid Grid.Row="0" MouseDown="gridT_MouseDown">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                            </Grid.RowDefinitions>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" ></ColumnDefinition>
                                                <ColumnDefinition Width="*"></ColumnDefinition>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                            </Grid.ColumnDefinitions>
                                            <Image Margin="3" Source="{Binding Image}" Width="100" Height="100" Grid.RowSpan="4" Grid.Column="0"></Image>
                                            <TextBlock Grid.Row="0" FontSize="20" Grid.Column="1" Grid.ColumnSpan="2" Text="{Binding TorrentName}" FontWeight="Bold"></TextBlock>
                                            <TextBlock Grid.Row="1" FontSize="15" Grid.Column="1" Text="{Binding Gender}" FontWeight="Bold"></TextBlock>
                                            <StackPanel Grid.Row="2" Grid.Column="1">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                    </Grid.ColumnDefinitions>

                                                    <TextBlock FontSize="15" Grid.Column="0" Margin="5" Foreground="#FFCF0000">
                                            <Run Text="Downloads: "></Run>
                                            <Run Text="{Binding DownloadNumber}" FontWeight="Bold"></Run>
                                                    </TextBlock>

                                                    <TextBlock FontSize="15" Grid.Column="1" Margin="5" Foreground="Blue">
                                            <Run Text="Tip: "></Run>
                                            <Run Text="{Binding Type}" FontWeight="Bold"></Run>
                                                    </TextBlock>

                                                    <TextBlock   FontSize="15" Grid.Column="2" Margin="5" Foreground="#FF366300">
                                                    <Run Text="Size: "></Run>
                                            <Run Text="{Binding Size}" FontWeight="Bold"></Run>
                                            <Run Text="GB" FontWeight="Bold"></Run>
                                                    </TextBlock>

                                                    <TextBlock  FontSize="15" Grid.Column="3" Margin="5" Foreground="#FF006266">
                                            <Run Text="Seeders: "></Run>
                                            <Run Text="{Binding Seeders}" FontWeight="Bold"></Run>
                                                    </TextBlock>
                                                    <Button Grid.Column="4" Content="Seen" Click="seen_Click" DataContext="{Binding TorrentId}"></Button>
                                                </Grid>

                                            </StackPanel>

                                            <Image Width="60" Grid.RowSpan="4" Grid.Column="2" DataContext="{Binding Uri}" Height="60" Margin="10" MouseDown="download_MouseDown" Source="Assets\arrow_down.png"></Image>

                                            

                                        </Grid>
                                        <Grid Visibility="Collapsed" Grid.Row="1">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                <ColumnDefinition Width="*"></ColumnDefinition>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                            </Grid.RowDefinitions>
                                            <TextBlock Grid.ColumnSpan="3" FontSize="25" Grid.Row="0">
                                        <Run Text="IMDB: "></Run>
                                        <Run Text="{Binding TorrentDetails.ImdbMark}"></Run>
                                            </TextBlock>
                                            <Image Source="{Binding TorrentDetails.PoserImage}" Margin="10" Height="300" Grid.Column="0" Grid.Row="1"></Image>
                                            <Image Source="Assets\youtube.png" DataContext="{Binding TorrentDetails.Video}" Height="300" MouseDown="youtube_MouseDown" Grid.Column="1" Grid.Row="1"></Image>
                                            <Image Height="130" HorizontalAlignment="Right" Grid.Column="2" Grid.Row="1" DataContext="{Binding Details}" MouseDown="details_MouseDown" Source="Assets\logo.png"></Image>
                                        </Grid>
                                    </Grid>
                                </StackPanel>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
              
            </Grid>
            <WebBrowser Visibility="Collapsed" x:Name="wbDownload"></WebBrowser>
        </Grid>
        <ProgressBar Width="500" Height="20" Visibility="Collapsed" x:Name="loadingBar" IsIndeterminate="True" HorizontalAlignment="Center" VerticalAlignment="Center"></ProgressBar>

        <Grid Grid.Row="1" x:Name="gridLoggIn" Width="300" HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="Collapsed">
            <Grid.ColumnDefinitions>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
            </Grid.RowDefinitions>

            <TextBlock Foreground="White" FontSize="20"  Text="Username" Margin="10,0,0,0" Grid.ColumnSpan="2" Grid.Row="0"></TextBlock>
            <TextBox x:Name="txtUsername"  Margin="10,0,0,10"  Grid.ColumnSpan="2" Grid.Row="1" ></TextBox>

            <TextBlock  Foreground="White" FontSize="20"  Text="Password"  Margin="10,0,0,0"  Grid.ColumnSpan="2" Grid.Row="2"></TextBlock>
            <PasswordBox x:Name="pwPassword"  Margin="10,0,0,10" Grid.ColumnSpan="2" Grid.Row="3" ></PasswordBox>
            <CheckBox x:Name="chkRememberMe" Foreground="White" FontSize="15"  Content="Remember me?" Grid.Column="0" Grid.Row="4" Margin="10"></CheckBox>

            <Grid  Grid.Column="1" MouseDown="click_btnLogin" Grid.Row="4" Margin="5" HorizontalAlignment="Right">
                <Grid Name="backgroundGrid" Width="35" Height="35" Visibility="Visible">
                    <Path Data="M50.5,4.7500001C25.232973,4.75 4.75,25.232973 4.7500001,50.5 4.75,75.767029 25.232973,96.25 50.5,96.25 75.767029,96.25 96.25,75.767029 96.25,50.5 96.25,25.232973 75.767029,4.75 50.5,4.7500001z M50.5,0C78.390381,0 101,22.609621 101,50.5 101,78.390381 78.390381,101 50.5,101 22.609621,101 0,78.390381 0,50.5 0,22.609621 22.609621,0 50.5,0z" Stretch="Fill" Fill="#FFFCFCFC" Name="Stroke" Visibility="Visible" />
                </Grid>
                <Path Data="M9.9989946,18.801896C8.3989875,18.801896 7.0990002,20.101909 7.0990002,21.700919 7.0990002,22.900926 7.7989819,23.800933 8.6990068,24.300937L8.6990068,28.200965 11.099001,28.200965 11.099001,24.300937C12.099001,23.800933 12.698,22.900926 12.698,21.700919 12.798006,20.101909 11.498995,18.801896 9.9989946,18.801896z M8.7611511,0.00021949895C11.466109,0.023492754,14.032363,1.8943686,15.097994,4.7027968L16.397981,8.4028276C16.597994,9.0028308,16.698,9.6028331,16.798006,10.202836L14.897981,10.202836C14.897981,9.7028325,14.798006,9.2028287,14.597994,8.7028259L13.597994,6.0028094C12.599001,3.2037857 9.5990007,1.703775 6.898988,2.8037814 4.1999824,3.8037885 2.8999944,7.0028165 4.0000007,9.902839L4.8989875,12.402856 13.997987,12.402856 16.798006,12.402856C18.997987,12.701855,20.698002,14.801868,20.698002,17.201886L20.698002,27.100959C20.698002,29.799976,18.698,31.999996,16.198,31.999996L4.4989936,31.999996C2.0000005,31.999996,1.4330499E-07,29.799976,0,27.100959L0,17.201886C1.4330499E-07,15.101874,1.2999881,13.301857,3.099976,12.602855L2.1999824,10.002838C0.79998801,6.3028067 2.5000005,2.0037802 6.0989997,0.50376948 6.898988,0.20376425 7.6990063,0.0037658689 8.4989936,0.0037657364 8.5864932,0.0006408943 8.6738946,-0.00053094873 8.7611511,0.00021949895z" Stretch="Uniform" Fill="#FFFFFFFF" 
                      Width="25" Height="25" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                    <Path.RenderTransform>
                        <TransformGroup>
                            <TransformGroup.Children>
                                <RotateTransform Angle="0" />
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                            </TransformGroup.Children>
                        </TransformGroup>
                    </Path.RenderTransform>
                </Path>
            </Grid>

        </Grid>

    </Grid>

</Controls:MetroWindow>
